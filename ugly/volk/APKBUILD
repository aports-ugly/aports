# Contributor: stef <l0ls0fo2i@ctrlc.hu>

pkgname=volk
pkgver=2.2.0
pkgrel=0
pkgdesc="The Vector-Optimized Library of Kernels from Gnuradio"
arch='x86 x86_64'
url="http://libvolk.org/"
license='GPL3'
makedepends='boost-dev orc-dev cmake py3-cheetah py3-six py3-mako python3 doxygen'
source="${pkgname}-${pkgver}.tar.gz::http://github.com/gnuradio/$pkgname/archive/v$pkgver.tar.gz"
subpackages="$pkgname-dev"

builddir="$srcdir/$pkgname-$pkgver/"

build() {
  cd "$builddir"
  mkdir -p build
  cd build
  export PYTHON=python3
  cmake \
    -DPYTHON_EXECUTABLE=$(which python3) \
    -DCMAKE_INSTALL_PREFIX=/usr -Wno-dev ..
  make
}

package() {
  cd "$builddir/build"
  make DESTDIR="$pkgdir" install
}

sha512sums="db3a9b529e28629c50674cf2b40dcffe32eb29c30847c159e524c68772bfb13c8a3c349a7dc987ec56837ba46cd18159dee0b879c98ef59d01feaf2219402946  volk-2.1.0.tar.gz"
