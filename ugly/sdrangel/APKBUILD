# Contributor:
# Maintainer:
pkgname=sdrangel
pkgver=4.11.7
pkgrel=0
pkgdesc="SDR Rx/Tx software for Airspy, Airspy HF+, BladeRF, HackRF, LimeSDR, PlutoSDR, RTL-SDR, SDRplay RSP1 and FunCube"
url="https://github.com/f4exb/sdrangel"
arch="all"
#license="?"
makedepends="cmake fftw-dev boost-dev qt5-qtbase-dev alsa-lib-dev libusb-dev rtlsdr-dev hackrf-dev ffmpeg-dev sqlite-dev libxml2-dev libxtrx-dev qt5-qttools qt5-qtbase-dev qt5-qtmultimedia-dev opus-dev soapy-sdr-dev cm256cc-dev codec2-dev mbelib-dev dsdcc-dev dsdcc qt5-qtwebsockets-dev opencv-dev serialDV-dev"
source="${pkgname}-${pkgver}.tar.gz::https://github.com/f4exb/$pkgname/archive/v$pkgver.tar.gz
        opencv4.patch"

_builddir="$srcdir/$pkgname-$pkgver"

build() {
  cd "$_builddir"
  mkdir -p build
  cd build
  cmake -DCMAKE_INSTALL_PREFIX=/usr -Wno-dev ../
  make #VERBOSE=1
}

package() {
        cd "$_builddir/build"
        make DESTDIR="$pkgdir" install
}
sha512sums="1dfeee173bba60bd467b618b638a9d7545fec64bcb1ee8298d7431468618c8c3a778e70570d853c9b97ffeebc71accf15cf403848bea5b5956ad4c9d93f678ac  sdrangel-4.11.7.tar.gz
6918ea8dea33a7b5f01a3cb99471cc0dc166b5be68e311f0c67028819c82c9a38f9be1b20a00a3f3303ea1a7478c7ec3978d8ce03cadf39f3a61c8ac767faa13  opencv4.patch"
