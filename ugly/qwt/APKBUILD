# Contributor:
# Maintainer:
pkgname=qwt
pkgver=6.1.4
pkgrel=0
pkgdesc="Qt Widgets for Technical Applications"
url="http://qwt.sourceforge.net/"
arch="all"
license="Qwt1.0"
depends=""
makedepends="qt-dev"
install=""
subpackages="$pkgname-dev $pkgname-doc"
source="http://downloads.sourceforge.net/qwt/qwt/qwt-$pkgver.zip
       qwtconfig.pri"
_builddir="$srcdir/$pkgname-$pkgver"

build() {
  cd "$_builddir"
  cp "$srcdir/qwtconfig.pri" .
  qmake qwt.pro || exit 1
  make
}

package() {
	cd "$_builddir"
   make INSTALL_ROOT=${pkgdir} install

   # install web designer plugin
   #install -d ${pkgdir}/usr/lib/qt4/plugins/designer/
   #install -Dm755 designer/plugins/designer/libqwt_designer_plugin.so \
   #  ${pkgdir}/usr/lib/qt4/plugins/designer/

   # needed by qmake (FS#30407)
   install -d "${pkgdir}"/usr/share/qt4/mkspecs/features/
   install -m644 qwtconfig.pri qwt.prf qwtfunctions.pri \
     "${pkgdir}"/usr/share/qt4/mkspecs/features/
 
   # install licence
   install -Dm644 ${srcdir}/${pkgname}-${pkgver}/COPYING \
   	${pkgdir}/usr/share/licenses/${pkgname}/LICENSE
}

sha512sums="711256ec4d1d54d201650e9c63b584b17a61dbedde5a581e0b6227fdbee149cdbe2a889aa58f67777125b6471fc1fe248992ec845eb6481a2dfc2c4276701d7f  qwt-6.1.4.zip
fa7eea61f7136d8b433935473759d2d4f3e678dd5e5b4368ca585a8bbf45eb8910136538406432613f79febe637fb11cbf6a9c29027cc8f17ea3c53b6096fc01  qwtconfig.pri"
