# Contributor:
# Maintainer:
pkgname=openscad
pkgver=2019.05
pkgrel=0
pkgdesc="The programmers solid 3D CAD modeller"
url="http://www.openscad.org"
arch="all"
license="GPLv2"
depends=""
makedepends="cmake glib-dev fontconfig-dev freetype-dev boost-dev gmp-dev mpfr-dev qscintilla-qt5-dev bison flex eigen-dev cgal-dev harfbuzz-dev qt5-qtbase-dev opencsg-dev glew-dev cgal opencsg libzip-dev libxml2-dev lib3mf-dev qt5-qtmultimedia-dev double-conversion-dev"
subpackages="$pkgname-doc"
source="http://files.openscad.org/${pkgname}-${pkgver}.src.tar.gz"

build() {
  qmake-qt5 PREFIX=/usr || exit 1
  sed -i 's:-isystem /usr/include ::' Makefile || exit 1
  make
}

package() {
   make INSTALL_ROOT=${pkgdir} install
}

sha512sums="073053f625ffa4fea6ed836396b7ff4b87b26cf7500b06c804983afc0f1dfd3d78bfb81b3fd217c3939b0ec915d85b0c7990773eaf968512a150deaa0399df13  openscad-2019.05.src.tar.gz"
